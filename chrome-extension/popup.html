<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="popup.css">
    <title>DOM Data Capture</title>
</head>

<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">‚ö°</span>
                <h1>DOM Capture</h1>
            </div>
            <div class="status-badge" id="statusBadge">
                <span class="status-dot"></span>
                <span class="status-text">Offline</span>
            </div>
        </header>

        <!-- Tabs -->
        <nav class="tabs">
            <button class="tab active" data-tab="selectors">üìã Selectors</button>
            <button class="tab" data-tab="settings">‚öôÔ∏è Settings</button>
            <button class="tab" data-tab="logs">üìä Logs</button>
        </nav>

        <!-- Tab: Selectors -->
        <section class="tab-content active" id="tab-selectors">
            <div class="selector-list" id="selectorList">
                <!-- Dynamic selector rows -->
            </div>
            <div class="add-row">
                <input type="text" id="newFieldName" placeholder="T√™n tr∆∞·ªùng (VD: DC, AWS...)" class="input-sm">
                <button class="btn btn-accent" id="btnAddField">+ Th√™m</button>
            </div>

            <div class="divider"></div>

            <div class="preview-section">
                <div class="section-title">
                    <span>üëÅÔ∏è Live Preview</span>
                    <button class="btn btn-ghost btn-sm" id="btnRefreshPreview">üîÑ Refresh</button>
                </div>
                <div class="preview-grid" id="previewGrid">
                    <div class="preview-empty">Ch∆∞a c√≥ d·ªØ li·ªáu. Click "Refresh" ƒë·ªÉ xem.</div>
                </div>
            </div>

            <div class="divider"></div>

            <!-- Schedule Status -->
            <div class="schedule-panel" id="schedulePanel">
                <div class="section-title">
                    <span>üìÖ L·ªãch ch·∫°y t·ª± ƒë·ªông</span>
                </div>
                <div class="schedule-info" id="scheduleInfo">
                    <div class="schedule-row">
                        <span class="schedule-label">Tr·∫°ng th√°i:</span>
                        <span class="schedule-value" id="scheduleStatus">‚Äî</span>
                    </div>
                    <div class="schedule-row">
                        <span class="schedule-label">L·∫ßn ch·∫°y ti·∫øp:</span>
                        <span class="schedule-value" id="scheduleNextRun">‚Äî</span>
                    </div>
                    <div class="schedule-row">
                        <span class="schedule-label">K·∫øt qu·∫£ l·∫ßn tr∆∞·ªõc:</span>
                        <span class="schedule-value" id="scheduleLastResult">‚Äî</span>
                    </div>
                </div>
            </div>

            <div class="action-bar-dual">
                <button class="btn btn-secondary btn-sm" id="btnTestNormal">
                    üöÄ Test th∆∞·ªùng
                </button>
                <button class="btn btn-accent btn-sm" id="btnTest22h">
                    üåô Test b√°o c√°o 22h
                </button>
            </div>
        </section>

        <!-- Tab: Settings -->
        <section class="tab-content" id="tab-settings">
            <div class="form-group">
                <label>üåê URL Website m·ª•c ti√™u</label>
                <input type="url" id="inputTargetUrl" placeholder="https://monitoring.example.com/dashboard"
                    class="input">
                <small class="help-text">Extension s·∫Ω t√¨m tab m·ªü URL n√†y ƒë·ªÉ b·∫Øt d·ªØ li·ªáu</small>
            </div>

            <div class="form-group">
                <label>üñ•Ô∏è Server URL</label>
                <input type="url" id="inputServerUrl" placeholder="http://localhost:5001" class="input"
                    value="http://localhost:5001">
                <div class="server-status" id="serverStatus">
                    <span class="status-dot offline"></span>
                    <span>Ch∆∞a ki·ªÉm tra</span>
                </div>
                <button class="btn btn-ghost btn-sm" id="btnCheckServer">Ki·ªÉm tra k·∫øt n·ªëi</button>
            </div>

            <div class="divider"></div>

            <div class="form-group">
                <label>‚è±Ô∏è Ch·∫ø ƒë·ªô t·ª± ƒë·ªông</label>
                <div class="toggle-row">
                    <label class="switch">
                        <input type="checkbox" id="toggleAutoCapture">
                        <span class="slider"></span>
                    </label>
                    <span id="autoCaptureLabel">T·∫Øt</span>
                </div>
                <small class="help-text">Ch·∫°y m·ªói gi·ªù t·∫°i ph√∫t ng·∫´u nhi√™n 0-10. Retry sau 5 ph√∫t n·∫øu th·∫•t b·∫°i.</small>
            </div>

            <div class="action-bar">
                <button class="btn btn-primary" id="btnSaveSettings">üíæ L∆∞u c√†i ƒë·∫∑t</button>
            </div>
        </section>

        <!-- Tab: Logs -->
        <section class="tab-content" id="tab-logs">
            <div class="log-header">
                <span>üìã L·ªãch s·ª≠</span>
                <button class="btn btn-ghost btn-sm" id="btnClearLogs">üóëÔ∏è X√≥a logs</button>
            </div>
            <div class="log-list" id="logList">
                <div class="log-empty">Ch∆∞a c√≥ log n√†o.</div>
            </div>
        </section>
    </div>

    <script src="popup.js"></script>
</body>

</html>